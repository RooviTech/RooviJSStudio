<html>
	<head>
		<script src="jquery-1.6.2.min.js"></script>
		<link rel="stylesheet" href="rjss.css">
		<script src="lib/codemirror.js"></script>
		<script src="mode/javascript/javascript.js"></script>
		<!-- JSLint -->
			<link rel="stylesheet" href="addon/lint/lint.css">
			<script src="jshint.js"></script>
			<script src="addon/lint/lint.js"></script>
			<script src="addon/lint/javascript-lint.js"></script>
		<!-- JSLint -->
		
		<!-- JSHint -->
			<link rel="stylesheet" href="addon/hint/show-hint.css">
			<script src="addon/hint/show-hint.js"></script>
			<script src="addon/hint/javascript-hint.js"></script>
			<script src="mode/markdown/markdown.js"></script>
		<!-- JSHint -->
		
		<!-- Search -->
			<link rel="stylesheet" href="addon/dialog/dialog.css">
			<link rel="stylesheet" href="addon/search/matchesonscrollbar.css">
			<script src="addon/dialog/dialog.js"></script>
			<script src="addon/search/searchcursor.js"></script>
			<script src="addon/search/search.js"></script>
			<script src="addon/scroll/annotatescrollbar.js"></script>
			<script src="addon/search/matchesonscrollbar.js"></script>
			<script src="addon/search/jump-to-line.js"></script>
		<!-- Search -->
		
		<!-- Active Line highlight -->
			<script src="addon/selection/active-line.js"></script>
		<!-- Active Line highlight -->
		
		<style>
			* {
				margin: 0;
				padding: 0;
			}
			.CodeMirror {
				width: 100%;
				height: 100%;
			}
		</style>
	</head>
	<body>
		<input type="hidden" id="file" value="text">
		<textarea id="cm"></textarea>
		<script>
				var editor = CodeMirror.fromTextArea(document.getElementById("cm"), {
					lineNumbers: true,
					matchBrackets: true,
					mode: "javascript",
					gutters: ["CodeMirror-lint-markers"],
					lint: true,
					extraKeys: {"Ctrl-Space": "autocomplete", "Alt-F": "findPersistent"},
					styleActiveLine: true
				});
				
				// Uncomment it)
				/*editor.on("keyup", function (cm, event) {
					if (!cm.state.completionActive && event.keyCode != 13) {
						CodeMirror.commands.autocomplete(cm, null, {completeSingle: true});
					}
				});*/
				
				editor.on("keydown", function(cm){
					Stream.putContents(document.getElementById("file").getAttribute("value"), editor.getValue());
				});
		</script>
	</body>
</html>